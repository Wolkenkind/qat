 API: Starship Warehouse API

Base URL: https://qasandbox-production.up.railway.app/

<a id="testdata1"></a>
Тестовые данные 1:

`[
{
name: "Test Ship 1",
capacity: 111,
volume: 111,
range: 111
status: "available",
id: 111
},
{
name: "Test Ship 2",
capacity: 222,
volume: 222,
range: 222
status: "maintenance",
id: 222
},
{
name: "Test Ship 3",
capacity: 333,
volume: 333,
range: 333
status: "in_flight",
id: 333
},
{
name: "Test Ship 4",
capacity: 444,
volume: 444,
range: 444,
status: "loading",
id: 444
}
]`

<a id="testdata2"></a>
Тестовые данные 2:

`
{
"name": "Test Cargo 1",
"quantity": 999,
"weight": 10.0,
"volume": 2.0,
"id": 1
},
{
"name": "Test Cargo 2",
"quantity": 888,
"weight": 5.0,
"volume": 8.0,
"id": 3
},
{
"name": "Test Cargo 3",
"quantity": 777,
"weight": 50.0,
"volume": 10.0,
"id": 3
}
`

<a id="testdata3"></a>
Тестовые данные 3:

`
{
"starship_id": 0,
"cargo_id": 21,
"quantity": 1
}
`

<a id="testdata4"></a>
Тестовые данные 4:

`
{
"starship_id": 82,
"cargo_id": 21,
"quantity": 0
}
`

<a id="testdata5"></a>
Тестовые данные 5:

`
[
{
"id": 1,
"starship": "Test Ship 1",
"cargo": "Test Cargo 1",
"quantity": 1,
"status": "Loading",
"created_at": "2025-07-28 12:32:25"
},
{
"id": 2,
"starship": "Test Ship 2",
"cargo": "Test Cargo 1",
"quantity": 1,
"status": "Loading",
"created_at": "2025-07-28 12:26:09"
},
{
"id": 3,
"starship": "Test Ship 3",
"cargo": "Test Cargo 2",
"quantity": 1,
"status": "Loading",
"created_at": "2025-07-28 12:25:25"
}
]
`

---

Во всех тестовых сценариях необходимо убедиться в передаче заголовка '**Content-Type**' со значением '_application/json_' в ответе на запрос

---

**Тест-кейс TC-001-all**

---



Тестовый сценарий: 

Проверка корректности передачи информации о звездолетах из источника данных

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения: 
1. Послать GET-запрос по адресу <base_url>/api/starships (https://qasandbox-production.up.railway.app/api/starships) с токеном авторизации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми (если предусловие невыполнимо, сравнить данные с фактически содержащимися в источнике данными)
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 1](#testdata1)

Ожидаемый результат: код ответа - 200 ОК

Ожидаемые данные в теле ответа: все корабли из тестовых данных

Ожидаемая структура ответа - см. [Response Get All Starships Api Starships Get](https://qasandbox-production.up.railway.app/docs#/starships/get_all_starships_api_starships_get)

---


**Тест-кейс TC-001-available**

---

Тестовый сценарий:

Проверка корректности передачи информации о доступных звездолетах из источника данных

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать GET-запрос по адресу <base_url>/api/starships/status/available (https://qasandbox-production.up.railway.app/api/starships/status/available) с токеном авторизации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми (если предусловие невыполнимо, сравнить данные с фактически содержащимися в источнике данными)
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 1](#testdata1)

Ожидаемый результат:

код ответа - 200 ОК

Ожидаемые данные в теле ответа: корабль **Test Ship 1** из тестовых данных (единственный со статусом _available_) - все корабли в статусе _available_ в общем случае

Ожидаемая структура ответа - см. [Response Get Available Starships Api Starships Status Available Get](https://qasandbox-production.up.railway.app/docs#/starships/get_available_starships_api_starships_status_available_get)

---

**Тест-кейс TC-001-starship-present**

---

Тестовый сценарий:

Проверка корректности передачи информации о конкретном звездолете по идентификатору из источника данных

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать GET-запрос по адресу <base_url>/api/starships/{starship_id} (https://qasandbox-production.up.railway.app/api/starships/{starship_id}) с токеном авторизации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми (если предусловие невыполнимо, сравнить данные с фактически содержащимися в источнике данными)
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 1](#testdata1)

`starship_id = 444`

Ожидаемый результат:

код ответа - 200 ОК

Ожидаемые данные в теле ответа: корабль из тестовых данных c указанным starship_id

Ожидаемая структура ответа - см. [Starship](https://qasandbox-production.up.railway.app/docs#/starships/get_starship_api_starships__starship_id__get)

---

**Тест-кейс TC-001-starship_val_error**

---

Тестовый сценарий:

Проверка сообщения об ошибке валидации запроса информации по звездолету по id 

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать GET-запрос по адресу <base_url>/api/starships/{invalid_starship_id} (https://qasandbox-production.up.railway.app/api/starships/{invalid_starship_id}) с токеном авторизации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми (если предусловие невыполнимо, сравнить данные с фактически содержащимися в источнике данными)
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

`invalid_starship_id = 5g`

Ожидаемый результат:

код ответа - 422 UNPROCESSABLE ENTITY

Ожидаемые данные в теле ответа: информация об ошибке валидации запроса, невозможно распарсить starship_id как целое число

Ожидаемая структура ответа - см. [HTTPValidationError](https://qasandbox-production.up.railway.app/docs#/starships/get_starship_api_starships__starship_id__get)

---

**Тест-кейс TC-001-response_time**

---

Тестовый сценарий:

Проверка максимального времени ответа на запрос

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Заметить время отправки запроса
2. Послать GET-запрос по адресу <base_url>/api/starships (https://qasandbox-production.up.railway.app/api/starships) с токеном авторизации
3. Вычислить время ответа на запрос

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 1](#testdata1)

Ожидаемый результат: время ответа на запрос < 3 секунды

Ожидаемые данные в теле ответа: все корабли из тестовых данных

Ожидаемая структура ответа - см. [Response Get All Starships Api Starships Get](https://qasandbox-production.up.railway.app/docs#/starships/get_all_starships_api_starships_get)

---

**Тест-кейс TC-001-max_simultaneous_requests**

---

Тестовый сценарий:

Проверка максимальной нагрузки на сервер

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать 10 GET-запросов по адресу <base_url>/api/starships (https://qasandbox-production.up.railway.app/api/starships) с токеном авторизации одновременно

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 1](#testdata1)

Ожидаемый результат: все запросы получают успешный ответ в пределах максимального времени ответа на запрос

Ожидаемые данные в теле ответа: все корабли из тестовых данных

Ожидаемая структура ответа - см. [Response Get All Starships Api Starships Get](https://qasandbox-production.up.railway.app/docs#/starships/get_all_starships_api_starships_get)

---

**Тест-кейс TC-001-rate_limiting**

---

Тестовый сценарий:

Проверка ограничения попыток запросов

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать более 20 GET-запросов по адресу <base_url>/api/starships (https://qasandbox-production.up.railway.app/api/starships) с токеном авторизации последовательно
2. Сравнить коды ответа на запросы учитывая порядковый номер запроса

Тестовые данные:

`токен авторизации 'test'`

Ожидаемый результат: 

код ответа для первых 20 запросов - 200 OK

код ответа для следующих после 20 запроса запросов - 429 TOO MANY REQUESTS

---

**Тест-кейс TC-003-inventory**

---

Тестовый сценарий:

Проверка корректности передачи информации о грузах на складе

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать GET-запрос по адресу <base_url>/api/inventory (https://qasandbox-production.up.railway.app/api/inventory) с токеном авторизации и параметрами пагинации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми (если предусловие невыполнимо, сравнить данные с фактически содержащимися в источнике данными)
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 2](#testdata2)

Ожидаемый код ответа: 200 OK

Ожидаемые данные в теле ответа: все грузы из тестовых данных, соответствующие заданным параметрам пагинации

Ожидаемая структура ответа - см. [Response Get Inventory Api Inventory Get](https://qasandbox-production.up.railway.app/docs#/cargo/get_inventory_api_inventory_get)

---

**Тест-кейс TC-003-inventory_response_time**

---

Тестовый сценарий:

Проверка максимального времени ответа на запрос

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Заметить время отправки запроса
2. Послать GET-запрос по адресу <base_url>/api/inventory (https://qasandbox-production.up.railway.app/api/inventory) с токеном авторизации и параметрами пагинации
3. Вычислить время ответа на запрос

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 2](#testdata2)

Ожидаемый результат: время ответа на запрос < 3 секунды

Ожидаемые данные в теле ответа: все грузы из тестовых данных, соответствующие параметрам пагинации

Ожидаемая структура ответа - см. [Response Get Inventory Api Inventory Get](https://qasandbox-production.up.railway.app/docs#/cargo/get_inventory_api_inventory_get)

---

**Тест-кейс TC-003-cargo**

---

Тестовый сценарий:

Проверка корректности передачи информации о грузах

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать GET-запрос по адресу <base_url>/api/cargo (https://qasandbox-production.up.railway.app/api/cargo) с токеном авторизации и параметрами пагинации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми (если предусловие невыполнимо, сравнить данные с фактически содержащимися в источнике данными)
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 2](#testdata2)

Ожидаемый код ответа: 200 OK

Ожидаемые данные в теле ответа: все грузы из тестовых данных, соответствующие заданным параметрам пагинации

Ожидаемая структура ответа - см. [Response Get Cargo Api Cargo Get](https://qasandbox-production.up.railway.app/docs#/cargo/get_cargo_api_cargo_get)

---

**Тест-кейс TC-003-cargo_response_time**

---

Тестовый сценарий:

Проверка максимального времени ответа на запрос

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Заметить время отправки запроса
2. Послать GET-запрос по адресу <base_url>/api/cargo (https://qasandbox-production.up.railway.app/api/cargo) с токеном авторизации и параметрами пагинации
3. Вычислить время ответа на запрос

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 2](#testdata2)

Ожидаемый результат: время ответа на запрос < 3 секунды

Ожидаемые данные в теле ответа: все грузы из тестовых данных, соответствующие параметрам пагинации

Ожидаемая структура ответа - см. [Response Get Cargo Api Cargo Get](https://qasandbox-production.up.railway.app/docs#/cargo/get_cargo_api_cargo_get)

---

**Тест-кейс TC-003-load**

---

Тестовый сценарий:

Проверка создания новой погрузки

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать POST-запрос по адресу <base_url>/api/load (https://qasandbox-production.up.railway.app/api/load) с токеном авторизации и телом запроса для создания погрузки
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми
4. Сравнить структуру тела ответа с ожидаемой
5. Убедиться в создании погрузки в источнике данных

Тестовые данные:

`токен авторизации 'test'`

`
{
"starship_id": <id существующего звездолета, доступного для загрузки>,
"cargo_id": <id существующего груза>,
"quantity": <количество, допустимое для загрузки в звездолет и присутствующее на складе>
}
`

Ожидаемый код ответа: 200 OK

Ожидаемые данные в теле ответа: информация о созданной погрузке

Ожидаемая структура ответа - см. [ShipmentResponse](https://qasandbox-production.up.railway.app/docs#/shipments/load_cargo_api_load_post)

---

**Тест-кейс TC-003-load_response_time**

---

Тестовый сценарий:

Проверка максимального времени ответа на запрос

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Заметить время отправки запроса
2. Послать POST-запрос по адресу <base_url>/api/load (https://qasandbox-production.up.railway.app/api/load) с токеном авторизации и телом запроса для создания погрузки
3. Вычислить время ответа на запрос

Тестовые данные:

`токен авторизации 'test'`

`
{
"starship_id": <id существующего звездолета, доступного для загрузки>,
"cargo_id": <id существующего груза>,
"quantity": <количество, допустимое для загрузки в звездолет и присутствующее на складе>
}
`

Ожидаемый результат: время ответа на запрос < 3 секунды

Ожидаемые данные в теле ответа: информация о созданной погрузке

Ожидаемая структура ответа - см. [ShipmentResponse](https://qasandbox-production.up.railway.app/docs#/shipments/load_cargo_api_load_post)

---

**Тест-кейс TC-003-load_error**

---

Тестовый сценарий:

Проверка ошибки 400 при создании новой погрузки

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать POST-запрос по адресу <base_url>/api/load (https://qasandbox-production.up.railway.app/api/load) с токеном авторизации и телом запроса для создания погрузки
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми
4. Сравнить структуру тела ответа с ожидаемой
5. Убедиться в том что в источнике данных не создано новой погрузки

Тестовые данные:

`токен авторизации 'test'`

`
{
"starship_id": <id существующего звездолета, доступного для загрузки>,
"cargo_id": <id существующего груза>,
"quantity": <количество, недопустимое для загрузки в звездолет или отсутствующее на складе>
}
`
или
`
{
"starship_id": <id существующего звездолета, недоступного для загрузки>,
"cargo_id": <id существующего груза>,
"quantity": <количество, допустимое для загрузки в звездолет и присутствующее на складе>
}
`

Ожидаемый код ответа: 400 BAD REQUEST

Ожидаемые данные в теле ответа: информация о причине невозможности создания загрузки

Ожидаемая структура ответа:

`
{
"detail": string
}
`


---

**Тест-кейс TC-003-load_not_found**

---

Тестовый сценарий:

Проверка ошибки 404 при создании новой погрузки

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать POST-запрос по адресу <base_url>/api/load (https://qasandbox-production.up.railway.app/api/load) с токеном авторизации и телом запроса для создания погрузки
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми
4. Сравнить структуру тела ответа с ожидаемой
5. Убедиться в том что в источнике данных не создано новой погрузки

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 3](#testdata3)

Ожидаемый код ответа: 404 NOT FOUND

Ожидаемые данные в теле ответа: информация о типе ненайденного ресурса

Ожидаемая структура ответа:

`
{
"detail": string
}
`

---

**Тест-кейс TC-003-load_val_error**

---

Тестовый сценарий:

Проверка ошибки валидации при создании новой погрузки

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать POST-запрос по адресу <base_url>/api/load (https://qasandbox-production.up.railway.app/api/load) с токеном авторизации и телом запроса для создания погрузки
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми
4. Сравнить структуру тела ответа с ожидаемой
5. Убедиться в том что в источнике данных не создано новой погрузки

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 4](#testdata4)

Ожидаемый результат:

код ответа - 422 UNPROCESSABLE ENTITY

Ожидаемые данные в теле ответа: информация об ошибке валидации запроса, количество должно быть больше 0

Ожидаемая структура ответа - см. [HTTPValidationError](https://qasandbox-production.up.railway.app/docs#/shipments/load_cargo_api_load_post)

---

**Тест-кейс TC-003-shipment_change_status**

---

Тестовый сценарий:

Проверка изменения статуса погрузки

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации
2. Убедиться, что существует погрузка для которой возможна смена статуса

Шаги выполнения:
1. Послать PUT-запрос по адресу <base_url>/api/shipments/{shipment_id}/status (https://qasandbox-production.up.railway.app/api/shipments/{shipment_id}/status) с токеном авторизации и корректным id погрузки
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми
4. Сравнить структуру тела ответа с ожидаемой
5. Убедиться в смене статуса погрузки в источнике данных

Тестовые данные:

`токен авторизации 'test'`

Параметр {shipment_id} - существующая погрузка для которой возможна смена статуса

Тело запроса:
`
"<status>"
`, где <status> = loading ИЛИ completed ИЛИ cancelled

Ожидаемый код ответа: 200 OK

Ожидаемые данные в теле ответа: информация о погрузке со смененным статусом

Ожидаемая структура ответа - см. [ShipmentResponse](https://qasandbox-production.up.railway.app/docs#/shipments/update_shipment_status_api_shipments__shipment_id__status_put)

---

**Тест-кейс TC-003-shipment_change_status_val_error**

---

Тестовый сценарий:

Проверка ошибки валидации при изменении статуса погрузки

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать PUT-запрос по адресу <base_url>/api/shipments/{shipment_id}/status (https://qasandbox-production.up.railway.app/api/shipments/{shipment_id}/status) с токеном авторизации и некорректным id погрузки
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми
4. Сравнить структуру тела ответа с ожидаемой
5. Убедиться в том, что статус погрузки в источнике данных остался прежним

Тестовые данные:

`токен авторизации 'test'`

Параметр {shipment_id} - некорректное значение, например '5g'

Ожидаемый результат:

код ответа - 422 UNPROCESSABLE ENTITY

Ожидаемые данные в теле ответа: информация об ошибке валидации запроса, невозможно распарсить shipment_id

Ожидаемая структура ответа - см. [HTTPValidationError](https://qasandbox-production.up.railway.app/docs#/shipments/update_shipment_status_api_shipments__shipment_id__status_put)

---

**Тест-кейс TC-005-history**

---

Тестовый сценарий:

Проверка корректности передачи информации об истории операций

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать GET-запрос по адресу <base_url>/api/history (https://qasandbox-production.up.railway.app/api/history) с токеном авторизации и параметрами фильтрации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми (если предусловие невыполнимо, сравнить данные с фактически содержащимися в источнике данными)
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 5](#testdata5)

Ожидаемый код ответа: 200 OK

Ожидаемые данные в теле ответа: все операции из тестовых данных, соответствующие заданным параметрам фильтрации

Ожидаемая структура ответа - см. [Response Get Shipment History Api History Get](https://qasandbox-production.up.railway.app/docs#/history/get_shipment_history_api_history_get)

---

**Тест-кейс TC-005-history_response_time**

---

Тестовый сценарий:

Проверка максимального времени ответа на запрос

Предусловие:

1. Убедиться, что источник данных содержит только тестовые данные для кейса
2. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Заметить время отправки запроса
2. Послать GET-запрос по адресу <base_url>/api/history (https://qasandbox-production.up.railway.app/api/history) с токеном авторизации и параметрами фильтрации
3. Вычислить время ответа на запрос

Тестовые данные:

`токен авторизации 'test'`

см. [Тестовые данные 5](#testdata5)

Ожидаемый результат: время ответа на запрос < 3 секунды

Ожидаемые данные в теле ответа: все операции из тестовых данных, соответствующие заданным параметрам фильтрации

Ожидаемая структура ответа - см. [Response Get Shipment History Api History Get](https://qasandbox-production.up.railway.app/docs#/history/get_shipment_history_api_history_get)

---

**Тест-кейс TC-005-history_val_error**

---

Тестовый сценарий:

Проверка ошибки валидации при передаче информации об истории операций

Предусловие:

1. Убедиться, что в наличии валидный JWT токен авторизации

Шаги выполнения:
1. Послать GET-запрос по адресу <base_url>/api/history (https://qasandbox-production.up.railway.app/api/history) с токеном авторизации и некорректным параметром фильтрации
2. Сравнить код ответа с ожидаемым
3. Сравнить данные в теле ответа с ожидаемыми
4. Сравнить структуру тела ответа с ожидаемой

Тестовые данные:

`токен авторизации 'test'`

Один из параметров фильтрации должен быть некорректным, например status = wrong

Ожидаемый результат:

код ответа - 422 UNPROCESSABLE ENTITY

Ожидаемые данные в теле ответа: информация об ошибке валидации запроса, статус должен быть 'loading', 'completed' или 'cancelled'

Ожидаемая структура ответа - см. [HTTPValidationError](https://qasandbox-production.up.railway.app/docs#/history/get_shipment_history_api_history_get)

---

---

---

Link to corresponding Postman workspace: https://web.postman.co/workspace/fc7e647a-f713-472a-a78e-b7f0bbe7143c